/*
下記の問題を『正規表現』を使って作成しよう。

三太郎は物語中何回出て来るのか？
下記に『金太郎』『浦島太郎』『桃太郎』物語の文章があります。
それぞれの物語中に『金太郎』『浦島太郎』『桃太郎』の名前はそれぞれ何回出てくるのかを数えるプログラムと、
『太郎』全員が合計何回出てくるのかを数えるプログラムを作って答えを『HTML』に表示してください。
*/

const story = `
むかしむかし、あしがら山の山奥に、金太郎という名前の男の子がいました。金太郎の友だちは、山の動物たちです。金太郎は毎日毎日、動物たちとすもうをして遊んでいました。「はっけよい、のこった、のこった」「金太郎、がんばれ、クマさんも負けるな」だけど勝つのはいつも金太郎で、大きな体のクマでも金太郎にはかないません。「こうさん、こうさん、金太郎は強いなあ。でも、次は負けないぞ」今度は、つな引きです。金太郎一人と、山中の動物たちの勝負です。動物たちの中には、体の大きなクマやウシやウマやシカもいましたが、金太郎にかないません。「つな引きも、金太郎の勝ち！」なんとも大変力持ちの金太郎ですが、強いだけでなく、とてもやさしい男の子です。ある日、クマの背中に乗って山道を行くと、谷のところで動物たちが困っていました。「どうしよう？橋がないから、向こうへわたれないよ」「よし、ぼくにまかせておけ」金太郎は近くに生えている大きな木を見つけると、「よし、ちょうどいい大きさだ」と、いって、その大きな木に体当たりをしました。ドーン！すると大きな木は簡単に折れてしまい、金太郎がそれを持ち上げて谷にかけると、あっという間に一本橋の出来上がりです。「わーい。どうも、ありがとう」動物たちは大喜びで、金太郎のつくってくれた橋を渡りました。その後、強い力とやさしい心を持った金太郎は立派な若者になり、都のえらいお侍さん（銀太郎）の家来になって、悪い者を次々とやっつけたということです。金太郎が住む隣村に、心のやさしい浦島太郎という若者がいました。浦島太郎が海辺を通りかかると、子どもたちが大きなカメを捕まえていました。そばによって見てみると、子どもたちがみんなでカメをいじめています。「おやおや、かわいそうに、逃がしておやりよ」「いやだよ。おらたちが、やっと捕まえたんだもの。どうしようと、おらたちの勝手だろ」見るとカメは涙をハラハラとこぼしながら、浦島太郎を見つめています。浦島太郎はお金を取り出すと、子どもたちに差し出して言いました。「それでは、このお金をあげるから、おじさんにカメを売っておくれ」太助は言いました「うん、それならいいよ」こうして浦島太郎は、子どもたちからカメを受け取ると、「大丈夫かい？もう、捕まるんじゃないよ」と、カメをそっと、海の中へ逃がしてやりました。さて、それから二、三日たったある日の事、浦島太郎が海に出かけて魚を釣っていると、「・・・浦島太郎、・・・浦島太郎」と、誰かが呼ぶ声がします。「おや？誰が呼んでいるのだろう？」「わたしですよ」すると海の上に、ひょっこりとカメが頭を出して言いました。「このあいだは助けていただいて、ありがとうございました」「ああ、あの時のカメさん」「はい、おかげで命が助かりました。ところで浦島太郎は、竜宮へ行った事がありますか？」「竜宮？さあ？竜宮って、どこにあるんだい？」「海の底です」「えっ？海の底へなんか、行けるのかい？」「はい。わたしがお連れしましょう。さあ、背中へ乗ってください」カメは浦島太郎を背中に乗せて、海の中をずんずんともぐっていきました。海の中にはまっ青な光が差し込み、コンブがユラユラとゆれ、赤やピンクのサンゴの林がどこまでも続いています。「わあ、きれいだな」浦島太郎がウットリしていると、やがて立派なご殿へ着きました。「着きましたよ。このご殿が竜宮です。さあ、こちらへ」カメに案内されるまま進んでいくと、この竜宮の主人の美しい乙姫さまが、色とりどりの魚たちと一緒に浦島太郎を出迎えてくれました。「ようこそ、浦島太郎。わたしは、この竜宮の主人の乙姫です。このあいだはカメを助けてくださって、ありがとうございます。お礼に、竜宮をご案内します。どうぞ、ゆっくりしていってくださいね」浦島太郎は、竜宮の広間ヘ案内されました。浦島太郎が用意された席に座ると、魚たちが次から次へと素晴らしいごちそうを運んできます。ふんわりと気持ちのよい音楽が流れて、タイやヒラメやクラゲたちの、それは見事な踊りが続きます。ここはまるで、天国のようです。そして、「もう一日、いてください。もう一日、いてください」と、乙姫さまに言われるまま竜宮で過ごすうちに、三年の月日がたってしまいました。ある時、浦島太郎は、はっと思い出しました。(家族や友だちは、どうしているだろう？)そこで浦島太郎は、乙姫さまに言いました。「乙姫さま、今までありがとうございます。ですが、もうそろそろ家へ帰らせていただきます」「帰られるのですか？よろしければ、このままここで暮しては」「いいえ、わたしの帰りを待つ者もおりますので」すると乙姫さまは、さびしそうに言いました。「・・・そうですか。それはおなごりおしいです。では、おみやげに玉手箱を差し上げましょう」「玉手箱？」「はい。この中には、浦島太郎が竜宮で過ごされた『時』が入っております。これを開けずに持っている限り、浦島太郎は年を取りません。ずーっと、今の若い姿のままでいられます。ですが一度開けてしまうと、今までの『時』が戻ってしまいますので、決して開けてはなりませんよ」「はい、わかりました。ありがとうございます」乙姫さまと別れた浦島太郎は、またカメに送られて地上へ帰りました。地上にもどった浦島太郎は、まわりを見回してびっくり。「おや？わずか三年で、ずいぶんと様子が変わったな」確かにここは浦島太郎が釣りをしていた場所ですが、何だか様子が違います。浦島太郎の家はどこにも見あたりませんし、出会う人も知らない人ばかりです。「わたしの家は、どうなったのだろう？みんなはどこかへ、引っ越したのだろうか？・・・あの、すみません。浦島の家を知りませんか？」浦島太郎が一人の老人に尋ねてみると、老人は少し首をかしげて言いました。「浦島？・・・ああ、確か浦島という人なら七百年ほど前に海へ出たきりで、帰らないそうですよ」「えっ！？」老人の話しを聞いて、浦島太郎はびっくり。竜宮の三年は、この世の七百年にあたるのでしょうか？「家族も友だちも、みんな死んでしまったのか・・・、いっそのこと浦島太郎から竜宮太郎に改名しようか・・・、」がっくりと肩を落とした浦島太郎は、ふと、持っていた玉手箱を見つめました。「そう言えば、乙姫さまは言っていたな。この玉手箱を開けると、『時』が戻ってしまうと。・・・もしかしてこれを開けると、自分が暮らしていた時に戻るのでは」そう思った浦島太郎は、開けてはいけないと言われていた玉手箱を開けてしまいました。モクモクモク・・・。すると中から、まっ白のけむりが出てきました。「おおっ、これは」けむりの中に、竜宮や美しい乙姫さまの姿がうつりました。そして楽しかった竜宮での三年が、次から次へとうつし出されます。「ああ、わたしは、竜宮へ戻ってきたんだ」浦島太郎は、喜びました。でも玉手箱から出てきたけむりは次第に薄れていき、その場に残ったのは髪の毛もひげもまっ白の、ヨポヨポのおじいさんになった浦島太郎だったのです。むかしむかし、あるところに、おじいさんとおばあさんが住んでいました。おじいさんは山へしばかりに、おばあさんは川へせんたくに行きました。おばあさんが川でせんたくをしていると、ドンブラコ、ドンブラコと、大きな桃が流れてきました。「おや、これは良いおみやげになるわ」おばあさんは大きな桃をひろいあげて、家に持ち帰りました。そして、おじいさんとおばあさんが桃を食べようと桃を切ってみると、なんと中から元気の良い男の赤ちゃんが飛び出してきました。「これはきっと、神さまがくださったにちがいない」子どものいなかったおじいさんとおばあさんは、大喜びです。桃から生まれた男の子を、おじいさんとおばあさんは桃太郎と名付けました。桃太郎はスクスク育って、やがて強い男の子になりました。そしてある日、桃太郎が言いました。「ぼく、鬼ヶ島(おにがしま)へ行って、わるい鬼を退治します」おばあさんにきび団子を作ってもらうと、鬼ヶ島へ出かけました。旅の途中で、イヌに出会いました。「桃太郎さん、どこへ行くのですか？」「鬼ヶ島へ、鬼退治に行くんだ」「それでは、お腰に付けたきび団子を１つ下さいな。おともしますよ」イヌはきび団子をもらい、桃太郎のおともになりました。そして、こんどはサルに出会いました。「桃太郎さん、どこへ行くのですか？」「鬼ヶ島へ、鬼退治に行くんだ」「それでは、お腰に付けたきび団子を１つ下さいな。おともしますよ」そしてこんどは、キジに出会いました。「桃太郎さん、どこへ行くのですか？」「鬼ヶ島へ、鬼退治に行くんだ」「それでは、お腰に付けたきび団子を１つ下さいな。おともしますよ」こうして、イヌ、サル、キジの仲間を手に入れた桃太郎は、ついに鬼ヶ島へやってきました。鬼ヶ島では、力太郎も真っ青の鬼たちが近くの村からぬすんだ宝物やごちそうをならべて、酒盛りの真っ最中です。「みんな、ぬかるなよ。それ、かかれ！」イヌは鬼のおしりにかみつき、サルは鬼のせなかをひっかき、キジはくちばしで鬼の目をつつきました。そして桃太郎も、刀をふり回して大あばれです。とうとう鬼の親分が、「まいったぁ、まいったぁ。こうさんだ、助けてくれぇ」と、手をついてあやまりました。桃太郎とイヌとサルとキジは、鬼から取り上げた宝物をくるまにつんで、元気よく家に帰りました。おじいさんとおばあさんは、桃太郎の無事な姿を見て大喜びです。そして三人は、宝物のおかげでしあわせにくらしましたとさ。
`;

const clickableText = document.createElement("p");
clickableText.textContent =
  "それぞれの登場回数は？←この要素をクリックしたら答えを表示する。";
clickableText.style.cursor = "pointer";

document.body.appendChild(clickableText);

const resultDiv = document.createElement("div");
document.body.appendChild(resultDiv);

// テキストクリック時の処理
clickableText.addEventListener("click", () => {
  const kintaroRegex = /金太郎/g;
  const urashimaRegex = /浦島太郎/g;
  const momotaroRegex = /桃太郎/g;

  const kintaroMatches = story.match(kintaroRegex);
  const urashimaMatches = story.match(urashimaRegex);
  const momotaroMatches = story.match(momotaroRegex);

  const kintaroCount = kintaroMatches ? kintaroMatches.length : 0;
  const urashimaCount = urashimaMatches ? urashimaMatches.length : 0;
  const momotaroCount = momotaroMatches ? momotaroMatches.length : 0;

  const taroTotalCount = kintaroCount + urashimaCount + momotaroCount;

  resultDiv.textContent = `答え：金太郎${kintaroCount}回、浦島太郎${urashimaCount}回、桃太郎${momotaroCount}回、太郎全員の合計${taroTotalCount}回`;
});
